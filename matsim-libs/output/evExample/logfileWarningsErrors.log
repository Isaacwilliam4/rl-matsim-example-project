2024-10-21T18:55:27,344  WARN PrepareForSimImpl:265 'usePersonIdForMissingVehicleId' is deprecated. It will be removed soon.
2024-10-21T18:55:27,584  WARN RandomizingTimeDistanceTravelDisutilityFactory:113 There will be no routing randomness. The randomization of the travel disutility requires the monetary distance rate to be different than zero. Continuing anyway.
2024-10-21T18:55:27,584  WARN RandomizingTimeDistanceTravelDisutilityFactory:118 There will be no routing randomness. The randomization of the travel disutility requires the travel time cost rate to be different than zero. Continuing anyway.
2024-10-21T18:55:28,125  WARN QueueWithBuffer:500 Link 30609511_0 too small: enlarge storage capacity from: 9.525470786238156 Vehicles to: 10.716154634517927 Vehicles.  This is not fatal, but modifies the traffic flow dynamics.
2024-10-21T18:55:28,126  WARN QueueWithBuffer:500 Link 30609511_0_r too small: enlarge storage capacity from: 9.525470786238156 Vehicles to: 10.716154634517927 Vehicles.  This is not fatal, but modifies the traffic flow dynamics.
2024-10-21T18:55:28,129  WARN QueueWithBuffer:500 Link 317587875_0 too small: enlarge storage capacity from: 3.738354875818572 Vehicles to: 4.205649235295893 Vehicles.  This is not fatal, but modifies the traffic flow dynamics.
2024-10-21T18:55:28,129  WARN QueueWithBuffer:500 Link 317587875_0_r too small: enlarge storage capacity from: 3.738354875818572 Vehicles to: 4.205649235295893 Vehicles.  This is not fatal, but modifies the traffic flow dynamics.
2024-10-21T19:03:35,533 ERROR SimStepParallelEventsManagerImpl$ExceptionHandler:442 Thread class org.matsim.core.events.SimStepParallelEventsManagerImpl$ProcessEventsRunnable0 died with exception while handling events.
java.lang.IllegalStateException: Vehicle (12) is neither queued nor plugged at charger (charger3)
	at com.google.common.base.Preconditions.checkState(Preconditions.java:836) ~[guava-33.3.0-jre.jar:?]
	at org.matsim.contrib.ev.charging.ChargingWithQueueingLogic.removeVehicle(ChargingWithQueueingLogic.java:108) ~[classes/:?]
	at org.matsim.contrib.ev.charging.VehicleChargingHandler.handleEvent(VehicleChargingHandler.java:131) ~[classes/:?]
	at org.matsim.core.events.EventsManagerImpl.callHandlerFast(EventsManagerImpl.java:264) ~[classes/:?]
	at org.matsim.core.events.EventsManagerImpl.processEvent(EventsManagerImpl.java:119) ~[classes/:?]
	at org.matsim.core.events.SimStepParallelEventsManagerImpl$ProcessEventsRunnable.run(SimStepParallelEventsManagerImpl.java:346) ~[classes/:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
2024-10-21T19:03:36,407  WARN QSim:274 exception in finally block - this may be a follow-up exception of an exception thrown in the try block.
java.lang.RuntimeException: Exception while processing events. Cannot guarantee that all events have been fully processed.
	at org.matsim.core.events.SimStepParallelEventsManagerImpl.finishProcessing(SimStepParallelEventsManagerImpl.java:221) ~[classes/:?]
	at org.matsim.core.mobsim.qsim.QSim.cleanupSim(QSim.java:366) ~[classes/:?]
	at org.matsim.core.mobsim.qsim.QSim.run(QSim.java:269) [classes/:?]
	at org.matsim.core.controler.NewControler.runMobSim(NewControler.java:125) [classes/:?]
	at org.matsim.core.controler.AbstractController$9.run(AbstractController.java:214) [classes/:?]
	at org.matsim.core.controler.AbstractController.iterationStep(AbstractController.java:246) [classes/:?]
	at org.matsim.core.controler.AbstractController.mobsim(AbstractController.java:210) [classes/:?]
	at org.matsim.core.controler.AbstractController.iteration(AbstractController.java:157) [classes/:?]
	at org.matsim.core.controler.AbstractController.doIterations(AbstractController.java:124) [classes/:?]
	at org.matsim.core.controler.AbstractController$1.run(AbstractController.java:84) [classes/:?]
	at org.matsim.core.controler.MatsimRuntimeModifications.run(MatsimRuntimeModifications.java:70) [classes/:?]
	at org.matsim.core.controler.MatsimRuntimeModifications.run(MatsimRuntimeModifications.java:53) [classes/:?]
	at org.matsim.core.controler.AbstractController.run(AbstractController.java:92) [classes/:?]
	at org.matsim.core.controler.NewControler.run(NewControler.java:83) [classes/:?]
	at org.matsim.core.controler.Controler.run(Controler.java:259) [classes/:?]
	at org.matsim.contrib.ev.example.RunEvExample.run(RunEvExample.java:82) [classes/:?]
	at org.matsim.contrib.ev.example.RunEvExample.main(RunEvExample.java:61) [classes/:?]
Caused by: java.lang.IllegalStateException: Vehicle (12) is neither queued nor plugged at charger (charger3)
	at com.google.common.base.Preconditions.checkState(Preconditions.java:836) ~[guava-33.3.0-jre.jar:?]
	at org.matsim.contrib.ev.charging.ChargingWithQueueingLogic.removeVehicle(ChargingWithQueueingLogic.java:108) ~[classes/:?]
	at org.matsim.contrib.ev.charging.VehicleChargingHandler.handleEvent(VehicleChargingHandler.java:131) ~[classes/:?]
	at org.matsim.core.events.EventsManagerImpl.callHandlerFast(EventsManagerImpl.java:264) ~[classes/:?]
	at org.matsim.core.events.EventsManagerImpl.processEvent(EventsManagerImpl.java:119) ~[classes/:?]
	at org.matsim.core.events.SimStepParallelEventsManagerImpl$ProcessEventsRunnable.run(SimStepParallelEventsManagerImpl.java:346) ~[classes/:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[?:?]
2024-10-21T19:03:36,408 ERROR AbstractController:225 Mobsim did not complete normally! afterMobsimListeners will be called anyway.
java.lang.RuntimeException: java.lang.IllegalStateException: Vehicle (12) is neither queued nor plugged at charger (charger3)
	at org.matsim.core.events.SimStepParallelEventsManagerImpl.afterSimStep(SimStepParallelEventsManagerImpl.java:244) ~[classes/:?]
	at org.matsim.core.mobsim.qsim.QSim.doSimStep(QSim.java:425) ~[classes/:?]
	at org.matsim.core.mobsim.qsim.QSim.run(QSim.java:259) ~[classes/:?]
	at org.matsim.core.controler.NewControler.runMobSim(NewControler.java:125) ~[classes/:?]
	at org.matsim.core.controler.AbstractController$9.run(AbstractController.java:214) ~[classes/:?]
	at org.matsim.core.controler.AbstractController.iterationStep(AbstractController.java:246) ~[classes/:?]
	at org.matsim.core.controler.AbstractController.mobsim(AbstractController.java:210) [classes/:?]
	at org.matsim.core.controler.AbstractController.iteration(AbstractController.java:157) [classes/:?]
	at org.matsim.core.controler.AbstractController.doIterations(AbstractController.java:124) [classes/:?]
	at org.matsim.core.controler.AbstractController$1.run(AbstractController.java:84) [classes/:?]
	at org.matsim.core.controler.MatsimRuntimeModifications.run(MatsimRuntimeModifications.java:70) [classes/:?]
	at org.matsim.core.controler.MatsimRuntimeModifications.run(MatsimRuntimeModifications.java:53) [classes/:?]
	at org.matsim.core.controler.AbstractController.run(AbstractController.java:92) [classes/:?]
	at org.matsim.core.controler.NewControler.run(NewControler.java:83) [classes/:?]
	at org.matsim.core.controler.Controler.run(Controler.java:259) [classes/:?]
	at org.matsim.contrib.ev.example.RunEvExample.run(RunEvExample.java:82) [classes/:?]
	at org.matsim.contrib.ev.example.RunEvExample.main(RunEvExample.java:61) [classes/:?]
Caused by: java.lang.IllegalStateException: Vehicle (12) is neither queued nor plugged at charger (charger3)
	at com.google.common.base.Preconditions.checkState(Preconditions.java:836) ~[guava-33.3.0-jre.jar:?]
	at org.matsim.contrib.ev.charging.ChargingWithQueueingLogic.removeVehicle(ChargingWithQueueingLogic.java:108) ~[classes/:?]
	at org.matsim.contrib.ev.charging.VehicleChargingHandler.handleEvent(VehicleChargingHandler.java:131) ~[classes/:?]
	at org.matsim.core.events.EventsManagerImpl.callHandlerFast(EventsManagerImpl.java:264) ~[classes/:?]
	at org.matsim.core.events.EventsManagerImpl.processEvent(EventsManagerImpl.java:119) ~[classes/:?]
	at org.matsim.core.events.SimStepParallelEventsManagerImpl$ProcessEventsRunnable.run(SimStepParallelEventsManagerImpl.java:346) ~[classes/:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[?:?]
2024-10-21T19:03:36,413  WARN CharyparNagelActivityScoring:271 The first and the last activity do not have the same type. 
2024-10-21T19:03:36,413  WARN CharyparNagelActivityScoring:272 Will score the first activity from midnight to its end, and the last activity from its start to midnight.
2024-10-21T19:03:36,413  WARN CharyparNagelActivityScoring:273 Because of the nonlinear function, this is not the same as scoring from start to end.
2024-10-21T19:03:36,414  WARN CharyparNagelActivityScoring:274 first activity: act [type=h][coord=[x=290625.48113156157 | y=5885518.622230196]][linkId=22760964_0][startTime=undefined][endTime=07:55:50][duration=undefined][facilityId=null]
2024-10-21T19:03:36,414  WARN CharyparNagelActivityScoring:275 last activity: act [type=car charging interaction][coord=[x=410616.14805872896 | y=5763420.463392099]][linkId=150062610_0][startTime=10:07:18][endTime=undefined][duration=undefined][facilityId=null]
2024-10-21T19:03:36,414  WARN CharyparNagelActivityScoring:276 This may also happen when plans are not completed when the simulation ends.
2024-10-21T19:03:36,414  WARN CharyparNagelActivityScoring:278 Additional warnings of this type are suppressed.
2024-10-21T19:03:36,415 ERROR MatsimRuntimeModifications:76 Getting uncaught Exception in Thread main
java.lang.RuntimeException: java.lang.IllegalStateException: Vehicle (12) is neither queued nor plugged at charger (charger3)
	at org.matsim.core.events.SimStepParallelEventsManagerImpl.afterSimStep(SimStepParallelEventsManagerImpl.java:244) ~[classes/:?]
	at org.matsim.core.mobsim.qsim.QSim.doSimStep(QSim.java:425) ~[classes/:?]
	at org.matsim.core.mobsim.qsim.QSim.run(QSim.java:259) ~[classes/:?]
	at org.matsim.core.controler.NewControler.runMobSim(NewControler.java:125) ~[classes/:?]
	at org.matsim.core.controler.AbstractController$9.run(AbstractController.java:214) ~[classes/:?]
	at org.matsim.core.controler.AbstractController.iterationStep(AbstractController.java:246) ~[classes/:?]
	at org.matsim.core.controler.AbstractController.mobsim(AbstractController.java:210) ~[classes/:?]
	at org.matsim.core.controler.AbstractController.iteration(AbstractController.java:157) ~[classes/:?]
	at org.matsim.core.controler.AbstractController.doIterations(AbstractController.java:124) ~[classes/:?]
	at org.matsim.core.controler.AbstractController$1.run(AbstractController.java:84) ~[classes/:?]
	at org.matsim.core.controler.MatsimRuntimeModifications.run(MatsimRuntimeModifications.java:70) [classes/:?]
	at org.matsim.core.controler.MatsimRuntimeModifications.run(MatsimRuntimeModifications.java:53) [classes/:?]
	at org.matsim.core.controler.AbstractController.run(AbstractController.java:92) [classes/:?]
	at org.matsim.core.controler.NewControler.run(NewControler.java:83) [classes/:?]
	at org.matsim.core.controler.Controler.run(Controler.java:259) [classes/:?]
	at org.matsim.contrib.ev.example.RunEvExample.run(RunEvExample.java:82) [classes/:?]
	at org.matsim.contrib.ev.example.RunEvExample.main(RunEvExample.java:61) [classes/:?]
Caused by: java.lang.IllegalStateException: Vehicle (12) is neither queued nor plugged at charger (charger3)
	at com.google.common.base.Preconditions.checkState(Preconditions.java:836) ~[guava-33.3.0-jre.jar:?]
	at org.matsim.contrib.ev.charging.ChargingWithQueueingLogic.removeVehicle(ChargingWithQueueingLogic.java:108) ~[classes/:?]
	at org.matsim.contrib.ev.charging.VehicleChargingHandler.handleEvent(VehicleChargingHandler.java:131) ~[classes/:?]
	at org.matsim.core.events.EventsManagerImpl.callHandlerFast(EventsManagerImpl.java:264) ~[classes/:?]
	at org.matsim.core.events.EventsManagerImpl.processEvent(EventsManagerImpl.java:119) ~[classes/:?]
	at org.matsim.core.events.SimStepParallelEventsManagerImpl$ProcessEventsRunnable.run(SimStepParallelEventsManagerImpl.java:346) ~[classes/:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[?:?]
2024-10-21T19:03:36,415 ERROR MatsimRuntimeModifications:82 ERROR --- This is an unexpected shutdown!
2024-10-21T19:03:36,415 ERROR MatsimRuntimeModifications:85 Shutdown possibly caused by the following Exception:
java.lang.RuntimeException: java.lang.IllegalStateException: Vehicle (12) is neither queued nor plugged at charger (charger3)
	at org.matsim.core.events.SimStepParallelEventsManagerImpl.afterSimStep(SimStepParallelEventsManagerImpl.java:244) ~[classes/:?]
	at org.matsim.core.mobsim.qsim.QSim.doSimStep(QSim.java:425) ~[classes/:?]
	at org.matsim.core.mobsim.qsim.QSim.run(QSim.java:259) ~[classes/:?]
	at org.matsim.core.controler.NewControler.runMobSim(NewControler.java:125) ~[classes/:?]
	at org.matsim.core.controler.AbstractController$9.run(AbstractController.java:214) ~[classes/:?]
	at org.matsim.core.controler.AbstractController.iterationStep(AbstractController.java:246) ~[classes/:?]
	at org.matsim.core.controler.AbstractController.mobsim(AbstractController.java:210) ~[classes/:?]
	at org.matsim.core.controler.AbstractController.iteration(AbstractController.java:157) ~[classes/:?]
	at org.matsim.core.controler.AbstractController.doIterations(AbstractController.java:124) ~[classes/:?]
	at org.matsim.core.controler.AbstractController$1.run(AbstractController.java:84) ~[classes/:?]
	at org.matsim.core.controler.MatsimRuntimeModifications.run(MatsimRuntimeModifications.java:70) [classes/:?]
	at org.matsim.core.controler.MatsimRuntimeModifications.run(MatsimRuntimeModifications.java:53) [classes/:?]
	at org.matsim.core.controler.AbstractController.run(AbstractController.java:92) [classes/:?]
	at org.matsim.core.controler.NewControler.run(NewControler.java:83) [classes/:?]
	at org.matsim.core.controler.Controler.run(Controler.java:259) [classes/:?]
	at org.matsim.contrib.ev.example.RunEvExample.run(RunEvExample.java:82) [classes/:?]
	at org.matsim.contrib.ev.example.RunEvExample.main(RunEvExample.java:61) [classes/:?]
Caused by: java.lang.IllegalStateException: Vehicle (12) is neither queued nor plugged at charger (charger3)
	at com.google.common.base.Preconditions.checkState(Preconditions.java:836) ~[guava-33.3.0-jre.jar:?]
	at org.matsim.contrib.ev.charging.ChargingWithQueueingLogic.removeVehicle(ChargingWithQueueingLogic.java:108) ~[classes/:?]
	at org.matsim.contrib.ev.charging.VehicleChargingHandler.handleEvent(VehicleChargingHandler.java:131) ~[classes/:?]
	at org.matsim.core.events.EventsManagerImpl.callHandlerFast(EventsManagerImpl.java:264) ~[classes/:?]
	at org.matsim.core.events.EventsManagerImpl.processEvent(EventsManagerImpl.java:119) ~[classes/:?]
	at org.matsim.core.events.SimStepParallelEventsManagerImpl$ProcessEventsRunnable.run(SimStepParallelEventsManagerImpl.java:346) ~[classes/:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[?:?]
2024-10-21T19:03:36,778 ERROR MatsimRuntimeModifications:100 ERROR --- MATSim unexpectedly terminated. Please check the output or the logfile with warnings and errors for hints.
2024-10-21T19:03:36,778 ERROR MatsimRuntimeModifications:101 ERROR --- results should not be used for further analysis.
2024-10-21T19:03:36,779 ERROR MatsimRuntimeModifications:105 ERROR --- This was an unexpected shutdown! See the log file for a possible reason.
